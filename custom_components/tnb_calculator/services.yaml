compare_with_bill:
  name: Compare with Actual Bill
  description: Compare calculated costs with your actual TNB bill to verify accuracy
  fields:
    actual_bill:
      name: Actual Bill Amount
      description: Your actual TNB bill amount in RM
      required: true
      example: 156.50
      selector:
        number:
          min: 0
          max: 10000
          step: 0.01
          mode: box
          unit_of_measurement: "RM"
    month:
      name: Month
      description: Month of the bill (1-12). Leave empty for current month.
      required: false
      example: 10
      selector:
        number:
          min: 1
          max: 12
          step: 1
          mode: box
    year:
      name: Year
      description: Year of the bill. Leave empty for current year.
      required: false
      example: 2025
      selector:
        number:
          min: 2020
          max: 2030
          step: 1
          mode: box

reset_storage:
  name: Reset Stored Data
  description: Clear cached energy totals, historical months, and cached holidays. Use with caution.
  fields:
    confirm:
      name: Type "RESET" to confirm
      description: Safety confirmation to prevent accidental resets.
      required: true
      example: RESET
      selector:
        text:

set_energy_values:
  name: Set Energy Values
  description: |
    Set exact energy values for calibration. Choose how to distribute the change between peak and off-peak.
    
    Examples:
    • Proportional: import_total: 1500, distribution: "proportional"
    • Peak only: import_total: 1500, distribution: "peak_only"
    • Manual: import_total: 1500, distribution: "manual", import_peak: 650, import_offpeak: 850
  fields:
    import_total:
      name: Import Total (kWh)
      description: Target import energy value in kWh
      required: true
      example: 1500.5
      selector:
        number:
          min: 0
          max: 100000
          step: 0.1
          mode: box
          unit_of_measurement: "kWh"
    distribution:
      name: Distribution Method
      description: How to distribute the change between peak and off-peak
      required: false
      default: "proportional"
      example: "proportional"
      selector:
        select:
          options:
            - label: "Proportional (maintain current ratio)"
              value: "proportional"
            - label: "Peak Only (change affects peak only)"
              value: "peak_only"
            - label: "Off-Peak Only (change affects off-peak only)"
              value: "offpeak_only"
            - label: "Auto (detect based on current time)"
              value: "auto"
            - label: "Manual (specify exact peak/off-peak)"
              value: "manual"
    import_peak:
      name: Import Peak (kWh)
      description: Exact peak import value (required if distribution is 'manual')
      required: false
      example: 650.0
      selector:
        number:
          min: 0
          max: 100000
          step: 0.1
          mode: box
          unit_of_measurement: "kWh"
    import_offpeak:
      name: Import Off-Peak (kWh)
      description: Exact off-peak import value (required if distribution is 'manual')
      required: false
      example: 850.5
      selector:
        number:
          min: 0
          max: 100000
          step: 0.1
          mode: box
          unit_of_measurement: "kWh"
    export_total:
      name: Export Total (kWh)
      description: Target export energy value in kWh (optional)
      required: false
      example: 250.0
      selector:
        number:
          min: 0
          max: 100000
          step: 0.1
          mode: box
          unit_of_measurement: "kWh"

set_export_values:
  name: Set Export Values
  description: |
    Set exact export energy values for calibration. Choose how to distribute the change between peak and off-peak.
    
    Examples:
    • Proportional: export_total: 250, distribution: "proportional"
    • Peak only: export_total: 250, distribution: "peak_only"
    • Manual: export_total: 250, distribution: "manual", export_peak: 100, export_offpeak: 150
  fields:
    export_total:
      name: Export Total (kWh)
      description: Target export energy value in kWh
      required: true
      example: 250.0
      selector:
        number:
          min: 0
          max: 100000
          step: 0.1
          mode: box
          unit_of_measurement: "kWh"
    distribution:
      name: Distribution Method
      description: How to distribute the change between peak and off-peak
      required: false
      default: "proportional"
      example: "proportional"
      selector:
        select:
          options:
            - label: "Proportional (maintain current ratio)"
              value: "proportional"
            - label: "Peak Only (change affects peak only)"
              value: "peak_only"
            - label: "Off-Peak Only (change affects off-peak only)"
              value: "offpeak_only"
            - label: "Auto (detect based on current time)"
              value: "auto"
            - label: "Manual (specify exact peak/off-peak)"
              value: "manual"
    export_peak:
      name: Export Peak (kWh)
      description: Exact peak export value (required if distribution is 'manual')
      required: false
      example: 100.0
      selector:
        number:
          min: 0
          max: 100000
          step: 0.1
          mode: box
          unit_of_measurement: "kWh"
    export_offpeak:
      name: Export Off-Peak (kWh)
      description: Exact off-peak export value (required if distribution is 'manual')
      required: false
      example: 150.0
      selector:
        number:
          min: 0
          max: 100000
          step: 0.1
          mode: box
          unit_of_measurement: "kWh"

adjust_energy_values:
  name: Adjust Energy Values
  description: |
    Apply offset adjustments (add/subtract) to current energy values.
    
    Examples:
    • Add 20 kWh to import: import_adjustment: 20
    • Subtract 5 kWh from export: export_adjustment: -5
    • Adjust peak/offpeak: peak_adjustment: 10, offpeak_adjustment: 10
  fields:
    import_adjustment:
      name: Import Adjustment (kWh)
      description: Amount to add (+) or subtract (-) from import total
      required: false
      default: 0
      example: 20.5
      selector:
        number:
          min: -100000
          max: 100000
          step: 0.1
          mode: box
          unit_of_measurement: "kWh"
    peak_adjustment:
      name: Peak Adjustment (kWh)
      description: Amount to add (+) or subtract (-) from peak import
      required: false
      default: 0
      example: 10.0
      selector:
        number:
          min: -100000
          max: 100000
          step: 0.1
          mode: box
          unit_of_measurement: "kWh"
    offpeak_adjustment:
      name: Off-Peak Adjustment (kWh)
      description: Amount to add (+) or subtract (-) from off-peak import
      required: false
      default: 0
      example: 10.5
      selector:
        number:
          min: -100000
          max: 100000
          step: 0.1
          mode: box
          unit_of_measurement: "kWh"
    export_adjustment:
      name: Export Adjustment (kWh)
      description: Amount to add (+) or subtract (-) from export total
      required: false
      default: 0
      example: -5.0
      selector:
        number:
          min: -100000
          max: 100000
          step: 0.1
          mode: box
          unit_of_measurement: "kWh"
