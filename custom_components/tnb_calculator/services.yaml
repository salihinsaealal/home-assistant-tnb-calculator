compare_with_bill:
  name: Compare with Actual Bill
  description: Compare calculated costs with your actual TNB bill to verify accuracy
  fields:
    actual_bill:
      name: Actual Bill Amount
      description: Your actual TNB bill amount in RM
      required: true
      example: 156.50
      selector:
        number:
          min: 0
          max: 10000
          step: 0.01
          mode: box
          unit_of_measurement: "RM"
    month:
      name: Month
      description: Month of the bill (1-12). Leave empty for current month.
      required: false
      example: 10
      selector:
        number:
          min: 1
          max: 12
          step: 1
          mode: box
    year:
      name: Year
      description: Year of the bill. Leave empty for current year.
      required: false
      example: 2025
      selector:
        number:
          min: 2020
          max: 2030
          step: 1
          mode: box

reset_storage:
  name: Reset Stored Data
  description: Clear cached energy totals, historical months, and cached holidays. Use with caution.
  fields:
    confirm:
      name: Type "RESET" to confirm
      description: Safety confirmation to prevent accidental resets.
      required: true
      example: RESET
      selector:
        text:

set_import_energy_values:
  name: Set Import Energy Values
  description: |
    Set exact import energy values for calibration. Choose how to distribute the change between peak and off-peak.
    
    Examples:
    ‚Ä¢ Proportional: import_total: 1500, distribution: "proportional"
    ‚Ä¢ Peak only: import_total: 1500, distribution: "peak_only"
    ‚Ä¢ Manual: import_total: 1500, distribution: "manual", import_peak: 650, import_offpeak: 850
  fields:
    import_total:
      name: Import Total (kWh)
      description: "üìä Target import energy value in kWh. Used in: ALL modes"
      required: true
      example: 1500.5
      selector:
        number:
          min: 0
          max: 100000
          step: 0.1
          mode: box
          unit_of_measurement: "kWh"
    distribution:
      name: Distribution Method
      description: "üîÄ How to distribute the change between peak and off-peak. Choose 'manual' if you want to specify exact peak/off-peak values."
      required: false
      default: "proportional"
      example: "proportional"
      selector:
        select:
          options:
            - label: "Proportional (maintain current ratio)"
              value: "proportional"
            - label: "Peak Only (change affects peak only)"
              value: "peak_only"
            - label: "Off-Peak Only (change affects off-peak only)"
              value: "offpeak_only"
            - label: "Auto (detect based on current time)"
              value: "auto"
            - label: "Manual (specify exact peak/off-peak)"
              value: "manual"
    import_peak:
      name: "‚ö° Import Peak (kWh)"
      description: "‚ö†Ô∏è ONLY for 'manual' mode: Exact peak import value. Peak + Off-peak must equal Import Total."
      required: false
      advanced: true
      example: 650.0
      selector:
        number:
          min: 0
          max: 100000
          step: 0.1
          mode: box
          unit_of_measurement: "kWh"
    import_offpeak:
      name: "üåô Import Off-Peak (kWh)"
      description: "‚ö†Ô∏è ONLY for 'manual' mode: Exact off-peak import value. Peak + Off-peak must equal Import Total."
      required: false
      advanced: true
      example: 850.5
      selector:
        number:
          min: 0
          max: 100000
          step: 0.1
          mode: box
          unit_of_measurement: "kWh"
    export_total:
      name: Export Total (kWh)
      description: Target export energy value in kWh (optional)
      required: false
      advanced: true
      example: 250.0
      selector:
        number:
          min: 0
          max: 100000
          step: 0.1
          mode: box
          unit_of_measurement: "kWh"

set_export_energy_values:
  name: Set Export Energy Values
  description: |
    Set exact export energy value for calibration.
    
    Example: export_total: 250.5
  fields:
    export_total:
      name: Export Total (kWh)
      description: Target export energy value in kWh
      required: true
      example: 250.0
      selector:
        number:
          min: 0
          max: 100000
          step: 0.1
          mode: box
          unit_of_measurement: "kWh"

adjust_import_energy_values:
  name: Adjust Import Energy Values
  description: |
    Apply offset adjustments (add/subtract) to import energy values with distribution options.
    
    Examples:
    ‚Ä¢ Proportional: import_adjustment: 20, distribution: "proportional"
    ‚Ä¢ Peak only: import_adjustment: 20, distribution: "peak_only"
    ‚Ä¢ Manual: import_adjustment: 20, distribution: "manual", peak_adjustment: 10, offpeak_adjustment: 10
  fields:
    import_adjustment:
      name: Import Adjustment (kWh)
      description: "üìä Amount to add (+) or subtract (-) from import total. Used in: ALL modes"
      required: true
      example: 20.5
      selector:
        number:
          min: -100000
          max: 100000
          step: 0.1
          mode: box
          unit_of_measurement: "kWh"
    distribution:
      name: Distribution Method
      description: "üîÄ How to distribute the adjustment between peak and off-peak. Choose 'manual' if you want to specify exact peak/off-peak adjustments."
      required: false
      default: "proportional"
      example: "proportional"
      selector:
        select:
          options:
            - label: "Proportional (maintain current ratio)"
              value: "proportional"
            - label: "Peak Only (adjustment affects peak only)"
              value: "peak_only"
            - label: "Off-Peak Only (adjustment affects off-peak only)"
              value: "offpeak_only"
            - label: "Auto (detect based on current time)"
              value: "auto"
            - label: "Manual (specify exact peak/off-peak adjustments)"
              value: "manual"
    peak_adjustment:
      name: "‚ö° Peak Adjustment (kWh)"
      description: "‚ö†Ô∏è ONLY for 'manual' mode: Exact peak adjustment. Peak + Off-peak must equal Import Adjustment."
      required: false
      advanced: true
      example: 10.0
      selector:
        number:
          min: -100000
          max: 100000
          step: 0.1
          mode: box
          unit_of_measurement: "kWh"
    offpeak_adjustment:
      name: "üåô Off-Peak Adjustment (kWh)"
      description: "‚ö†Ô∏è ONLY for 'manual' mode: Exact off-peak adjustment. Peak + Off-peak must equal Import Adjustment."
      required: false
      advanced: true
      example: 10.5
      selector:
        number:
          min: -100000
          max: 100000
          step: 0.1
          mode: box
          unit_of_measurement: "kWh"

adjust_export_energy_values:
  name: Adjust Export Energy Values
  description: |
    Apply offset adjustment (add/subtract) to export energy value.
    
    Example: export_adjustment: -5.0
  fields:
    export_adjustment:
      name: Export Adjustment (kWh)
      description: Amount to add (+) or subtract (-) from export total
      required: true
      example: -5.0
      selector:
        number:
          min: -100000
          max: 100000
          step: 0.1
          mode: box
          unit_of_measurement: "kWh"
